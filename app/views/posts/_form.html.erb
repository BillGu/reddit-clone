<%= form_with model: post, local: true do |form| %>
    <div>
        <%= label :post, :title %>
        <%= form.text_field :title, minlength: MIN_POST, maxlength: MAX_POST, required: true %>
    </div>

    <div>
        <%= label :post, :url %>
        <%= form.text_field :url %>
    </div>

    <div>
        <%= label :post, :content %>
        <%= form.text_area :content %>
    </div>

    <div>
        <h2>Select 1-3 subs to post in:</h2>
        <input type="hidden" name="post[sub_ids][]" value="">
        <% subs.each do |sub| %>
            <% checked = params[:sub_id].to_i == sub.id || post.subs.include?(sub) %>
            <input type="checkbox" id="sub_<%=sub.id%>" name="post[sub_ids][]" value="<%= sub.id %>"
                <%= "checked" if checked %> >
            <label for="sub_<%=sub.id%>"><%= sub.title %></label>
        <% end %>
    </div>

    <div>
        <%= form.submit "Save" %>
    </div>
<% end %>